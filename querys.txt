Obter participantes guardados em cache: (thread_key, Nome, Foto)

SELECT thread_key, thread_name, other_participant_profile_picture_url, other_participant_url_expiration_timestamp_ms FROM _cached_participant_thread_info


Obter todos os amigos adicionados e suas informações de contacto: (contact_id, name, phone_number, email_address) 

SELECT * FROM user_contact_info


Obter message requests

SELECT * FROM message_requests



Obter participantes: (thread_key, contact_id, nome, "timestamps", nickname

SELECT p.thread_key, p.contact_id, u.name, p.read_watermark_timestamp_ms, p.delivered_watermark_timestamp_ms, p.nickname FROM participants as p JOIN user_contact_info as u on u.contact_id = p.contact_id



Obter todos os contactos e suas fotos de perfil e suas informações de contacto (phone_number, email_address:

SELECT c.id, c.name, c.profile_picture_large_url, u.phone_number, u.email_address
FROM contacts as c JOIN user_contact_info as u ON c.id = u.contact_id


Obter mensagens por cada participante 

SELECT m.thread_key, datetime((m.timestamp_ms)/1000,'unixepoch'), u.contact_id, m.sender_id, u.name, m.text
FROM messages as m JOIN user_contact_info as u ON m.sender_id = u.contact_id
ORDER BY m.timestamp_ms



Obter mensagens de onde houve reacções:

SELECT r.thread_key, m.timestamp_ms, u.name, m.text, r.reaction
FROM reactions as r 
JOIN messages as m ON r.thread_key = m.thread_key
JOIN user_contact_info as u ON r.actor_id = u.contact_id
